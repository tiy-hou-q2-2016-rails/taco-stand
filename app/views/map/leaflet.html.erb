<div class="page-header">
  <h1>Map <small>of the tacos</small></h1>
</div>

<ul>
  <li><%= link_to 'View Google Version', google_map_path %></li>
  <li><%= link_to 'View Leaflet Version', leaflet_map_path %></li>
</ul>

<div id="map"></div>

<script type="text/javascript">
  var mymap = L.map('map').setView([29.7, -95.3], 8);

  L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiandvLWNpbmsiLCJhIjoiQVBfcW9OOCJ9.k2Q4vbfJs16Idk2cOziQYQ', {
    attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="http://mapbox.com">Mapbox</a>',
    maxZoom: 18,
    id: 'jwo-cink.0ljiijbi',
    accessToken: 'pk.eyJ1IjoiandvLWNpbmsiLCJhIjoiQVBfcW9OOCJ9.k2Q4vbfJs16Idk2cOziQYQ'
}).addTo(mymap);

  var tacoIcon = L.icon({
    iconUrl: '<%= image_url('taco.png') %>'
  })

  <% @markers.each do |marker| %>
    L.marker([<%= marker.lat %>, <%= marker.lng %>], {icon: tacoIcon}).addTo(mymap).bindPopup("Marker: <%= marker.title %>");
  <% end %>

</script>
